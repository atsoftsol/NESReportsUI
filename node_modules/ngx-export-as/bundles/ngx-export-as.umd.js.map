{"version":3,"file":"ngx-export-as.umd.js.map","sources":["ng://ngx-export-as/lib/export-as.service.ts","ng://ngx-export-as/lib/export-as.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { ExportAsConfig } from './export-as-config.model';\n\nimport html2canvas from 'html2canvas';\nimport * as jsPDF from 'jspdf';\nimport * as XLSX from 'xlsx';\nimport * as htmlDocx from 'html-docx-js/dist/html-docx';\n\nwindow['html2canvas'] = html2canvas;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExportAsService {\n\n  constructor() { }\n\n  get(config: ExportAsConfig): Observable<string | null> {\n    const func = 'get' + config.type.toUpperCase();\n    if (this[func]) {\n      return this[func](config);\n    }\n\n    return Observable.create((observer) => { observer.error('Export type is not supported.'); });\n  }\n\n  save(config: ExportAsConfig, fileName: string): void {\n    config.download = true;\n    config.fileName = fileName + '.' + config.type;\n    this.get(config).subscribe();\n  }\n\n  contentToBlob(content: string): Observable<Blob> {\n    return Observable.create((observer) => {\n      const arr = content.split(','), mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]);\n      let n = bstr.length;\n      const u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      observer.next(new Blob([u8arr], { type: mime }));\n      observer.complete();\n    });\n  }\n\n  removeFileTypeFromBase64(fileContent: string): string {\n    const re = /^data:[^]*;base64,/g;\n    const newContent: string = re[Symbol.replace](fileContent, '');\n    return newContent;\n  }\n\n  addFileTypeToBase64(fileContent: string, fileMime: string): string {\n    return `data:${fileMime};base64,${fileContent}`;\n  }\n\n  downloadFromDataURL(fileName: string, dataURL: string): void {\n    this.contentToBlob(dataURL).subscribe(blob => {\n      this.downloadFromBlob(blob, fileName);\n    });\n  }\n\n  downloadFromBlob(blob: Blob, fileName: string) {\n    const element = document.createElement('a');\n    const url = window.URL.createObjectURL(blob);\n    element.setAttribute('download', fileName);\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.href = url;\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  private getPDF(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const jspdf = new jsPDF();\n      const element: HTMLElement = document.getElementById(config.elementId);\n      jspdf.addHTML(element, function () {\n        if (config.download) {\n          jspdf.save(config.fileName);\n          observer.next();\n        } else {\n          observer.next(jspdf.output('datauristring'));\n        }\n        observer.complete();\n      });\n    });\n  }\n\n  private getPNG(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const element: HTMLElement = document.getElementById(config.elementId);\n      html2canvas(element, config.options).then((canvas) => {\n        const imgData = canvas.toDataURL('image/PNG');\n        if (config.type === 'png' && config.download) {\n          this.downloadFromDataURL(config.fileName, imgData);\n          observer.next();\n        } else {\n          observer.next(imgData);\n        }\n        observer.complete();\n      }, err => {\n        observer.error(err);\n      });\n    });\n  }\n\n  private getCSV(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const element: HTMLElement = document.getElementById(config.elementId);\n      const csv = [];\n      const rows: any = element.querySelectorAll('table tr');\n      rows.forEach((rowElement, index: number) => {\n        const row = [];\n        const cols = rowElement.querySelectorAll('td, th');\n        cols.forEach((col, colIndex: number) => {\n          row.push(col.innerText);\n        });\n        csv.push(row.join(','));\n      });\n      const csvContent = 'data:text/csv;base64,' + btoa(csv.join('\\n'));\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, csvContent);\n        observer.next();\n      } else {\n        observer.next(csvContent);\n      }\n      observer.complete();\n    });\n  }\n\n  private getTXT(config: ExportAsConfig): Observable<string | null> {\n    const nameFrags = config.fileName.split('.');\n    config.fileName = `${nameFrags[0]}.txt`;\n    return this.getCSV(config);\n  }\n\n  private getXLS(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n\n      const element: HTMLElement = document.getElementById(config.elementId);\n      const ws3 = XLSX.utils.table_to_sheet(element, config.options);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws3, config.fileName);\n      const out = XLSX.write(wb, { type: 'base64' });\n      const xlsContent = 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,' + out;\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, xlsContent);\n        observer.next();\n      } else {\n        observer.next(xlsContent);\n      }\n      observer.complete();\n    });\n  }\n\n  private getXLSX(config: ExportAsConfig): Observable<string | null> {\n    return this.getXLS(config);\n  }\n\n  private getDOCX(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const contentDocument: string = document.getElementById(config.elementId).outerHTML;\n      const content = '<!DOCTYPE html>' + contentDocument;\n      const converted = htmlDocx.asBlob(content, config.options);\n      if (config.download) {\n        this.downloadFromBlob(converted, config.fileName);\n        observer.next();\n        observer.complete();\n      } else {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          const base64data = reader.result;\n          observer.next(base64data);\n          observer.complete();\n        };\n        reader.readAsDataURL(converted);\n      }\n    });\n  }\n\n  private getDOC(config: ExportAsConfig): Observable<string | null> {\n    return this.getDOCX(config);\n  }\n\n  private getJSON(config: ExportAsConfig): Observable<any[] | null> {\n    return Observable.create((observer) => {\n      const data = []; // first row needs to be headers\n      const headers = [];\n      const table = <HTMLTableElement>document.getElementById(config.elementId);\n      for (let index = 0; index < table.rows[0].cells.length; index++) {\n        headers[index] = table.rows[0].cells[index].innerHTML.toLowerCase().replace(/ /gi, '');\n      }\n      // go through cells\n      for (let i = 1; i < table.rows.length; i++) {\n        const tableRow = table.rows[i]; const rowData = {};\n        for (let j = 0; j < tableRow.cells.length; j++) {\n          rowData[headers[j]] = tableRow.cells[j].innerHTML;\n        }\n        data.push(rowData);\n      }\n      const jsonString = JSON.stringify(data);\n      const jsonBase64 = btoa(jsonString);\n      const dataStr = 'data:text/json;base64,' + jsonBase64;\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, dataStr);\n        observer.next();\n      } else {\n        observer.next(data);\n      }\n      observer.complete();\n    });\n  }\n\n  private getXML(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><Root><Classes>';\n      const tritem = document.getElementById(config.elementId).getElementsByTagName('tr');\n      for (let i = 0; i < tritem.length; i++) {\n        const celldata = tritem[i];\n        if (celldata.cells.length > 0) {\n          xml += '<Class name=\"' + celldata.cells[0].textContent + '\">\\n';\n          for (let m = 1; m < celldata.cells.length; ++m) {\n            xml += '\\t<data>' + celldata.cells[m].textContent + '</data>\\n';\n          }\n          xml += '</Class>\\n';\n        }\n      }\n      xml += '</Classes></Root>';\n      const base64 = 'data:text/xml;base64,' + btoa(xml);\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, base64);\n        observer.next();\n      } else {\n        observer.next(base64);\n      }\n      observer.complete();\n    });\n  }\n\n}\n","/**\n * angular imports\n */\nimport { NgModule } from '@angular/core';\n\n/**\n * my imports\n */\n\nimport { ExportAsService } from './export-as.service';\n\n@NgModule({\n  providers: [ExportAsService],\n})\nexport class ExportAsModule { }\n\n\n"],"names":["Observable","XLSX.utils","XLSX.write","htmlDocx.asBlob","Injectable","NgModule"],"mappings":"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"}
